# 統計檢定：與機器學習的關係何在？

## 課程大綱

使用假說檢定的時機是什麼？

### 假說檢定五步驟

1. 設定 $H_0$（虛無假說）
2. 設定 $H_1$（對立假說）
3. 設定檢定統計量與顯著水準 ($\alpha$)
4. 找出在虛無假說為真下，檢定統計量的分布（null distribution）；計算 $p$ 值 ($p$-value)
5. 比較 $p$ 值與 $\alpha$，決定是否拒絕 $H_0$

### 使用單樣本 t 檢定的案例研究

背景條件：
- 已知某種存在大湖中的魚的每一尾個體的重量，因此平均重量也能確定（$\mu_0$）
- 我們從小湖中抓了同種的 20 尾魚形成一個樣本，量測每尾的重量，再計算平均重量（樣本平均數；$\bar{x}$）

研究問題（假說）：
- 兩座湖泊的此魚種，平均重量是否不同？
- 對應到虛無假說（$H_0$）：$\mu = \mu_0$

使用單樣本 t 檢定時還必須做出哪些假設？
- 要假設這個樣本的母體為高斯分布嗎？
- 要假設這個樣本的變異數（$s^2$）等於母體變異數（$\sigma^2$）嗎？

人為選擇：
- 單尾檢定或雙尾檢定？
- 顯著水準設定為多少？

檢定統計量 $t = \frac{\bar{x} - \mu_0}{s / \sqrt{N}}$
- $N$ 為樣本數
- 這個檢定量的機率分布是什麼？

報告結果：
- 「小湖中的魚在 $\alpha = $ 0.xx 的顯著水準下比大湖中的魚重（$p = $ 0.xxx）。」
- 「小湖中的魚與大湖中的魚在重量上沒有顯著差異（$\alpha = $ 0.xx；$p = $ 0.xxx）。」

### 第一型錯誤 vs 第二型錯誤

分別又稱為假陽性 vs 假陰性。這兩型錯誤會有互相消長的情況：減少第一型錯誤出現的機會時，可能會增加第二型錯誤出現的機會，反之亦然。

因此，要如何權衡這兩型錯誤，以及該如何基於權衡的結果設計 $\alpha$ 和 $N$ ？

### t 檢定的深入討論

**雙樣本 t 檢定**：樣本的假設條件很重要 --
- 兩者的變異數是否相同？
- 兩個樣本是否有可能互相關聯？
- 資料是不是需要一點前處理？

t 檢定也可以用來檢測相關性（虛無假說為 $\rho = 0$）。

### p 值操弄 (p-hacking)

如果我們重複「從小湖中抓 20 條魚」以及後續的假說檢定 100 次，再挑 $p$ 值最低的那次回報如何？

<font color="red"><b>千萬不要這樣做！</b></font>為什麼？

### 無母數檢定

母數檢定 (parametric tests) vs 無母數檢定 (non-parametric tests): 該使用哪一種？

以下是我們可能會在課堂上提到的無母數檢定方法：
- Wilcoxon–Mann–Whitney 檢定：位置（平均值）差異
- Kolmogorov–Smirnov 檢定：連續資料的適配度
  - 檢定統計量：兩筆樣本的累積分布函數之間的最大垂直距離


### 信賴區間（CI）

信賴區間主要用於預測未知的母體參數。信賴區間的估計需要使用與假說檢定類似的概念，不過我們不用設定虛無假說。

「門檻值」的概念仍然需要。這裡不稱為顯著水準了，而是稱為「信心水準」。

報告結果：
- xxx $\pm$ yyy（zzz% CI）
- [aaa, bbb]（zzz% CI）

信賴區間的頻率學派觀點：信賴區間如何解讀？

### 自助法 (Bootstrapping)

在什麼情況下，找出母體參數的信賴區間是太不可能的？
- 母體參數沒有合適的機率分布可以描述（機率分布未知或不存在）
- 樣本太少

如何使用自助法找出母體參數的信賴區間？
- 百分位法：CI = $[ \theta^{\ast}_{\alpha/2}, \theta^{\ast}_{(1 - \alpha/2)} ]$（**不要使用這個！**）
- 基本法：CI = $[ 2\theta_s - \theta^{\ast}_{(1 - \alpha/2)}, 2\theta_s - \theta^{\ast}_{\alpha/2} ]$
- BCa

## 最後的問題

**統計檢定與機器學習有什麼關係？**
- 簡易的替代方案（畢竟不是所有問題都需要機器學習）？
- 理解基於統計的推論的重要性？
- 有其他想法嗎？

## 小組討論與示範

1. 你對問題集 #1 有任何問題嗎？
2. 使用 ee-class 瀏覽成績與繳交作業；再次說明作業的再現性要求

<!-- 1. 使用 Jupyter Notebook（可以使用 [Google Colaboratory](https://colab.google/)、[Callysto Hub](https://hub.callysto.ca/) 或是本地端電腦） 載入問題集 #1 需要的數據集。 -->